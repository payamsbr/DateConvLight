# DateConvLight
A light weight library for some one who needs to convert Gregorian(machine) 
original date to Iranian(Persian/Farsi/Shamsi/Jalali) date with benefit of supporting leap years.
also support a back way conversion which comes handy for someone who need to adjust
devices time (for example an RTC module <DS1307>) with a Persian date that shall be internally converted.

<h3> example </h3>
<pre>
	<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF;"><span class="sc1">/* * this example show the simplest way to converting a * GREGORIAN Date in format of YYYY/M/D (ex.2010/2/20) * to its SHAMSI equivalent. check library root folder for more * informations. */</span> <span class="sc9">#include "DateConvL.h" </span> <span class="sc16">uint16_t</span> <span class="sc11">current_year</span><span class="sc10">,</span> <span class="sc11">current_month</span><span class="sc10">,</span> <span class="sc11">current_day</span><span class="sc10">;</span> <span class="sc11">DateConvL</span> <span class="sc11">dateC</span><span class="sc10">;</span> <span class="sc16">void</span> <span class="sc11">setup</span><span class="sc10">()</span> <span class="sc10">{</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">begin</span><span class="sc10">(</span><span class="sc4">9600</span><span class="sc10">);</span> <span class="sc11">SetCurrentDate</span><span class="sc10">();</span> <span class="sc11">dateC</span><span class="sc10">.</span><span class="sc11">ToShamsi</span><span class="sc10">(</span><span class="sc11">current_year</span><span class="sc10">,</span><span class="sc11">current_month</span><span class="sc10">,</span><span class="sc11">current_day</span><span class="sc10">);</span> <span class="sc2">// converts global values of date and stores them to dateC </span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">print</span><span class="sc10">(</span><span class="sc11">dateC</span><span class="sc10">.</span><span class="sc11">global_year</span><span class="sc10">,</span> <span class="sc11">DEC</span><span class="sc10">);</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">print</span><span class="sc10">(</span><span class="sc7">'/'</span><span class="sc10">);</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">print</span><span class="sc10">(</span><span class="sc11">dateC</span><span class="sc10">.</span><span class="sc11">global_month</span><span class="sc10">,</span> <span class="sc11">DEC</span><span class="sc10">);</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">print</span><span class="sc10">(</span><span class="sc7">'/'</span><span class="sc10">);</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">print</span><span class="sc10">(</span><span class="sc11">dateC</span><span class="sc10">.</span><span class="sc11">global_day</span><span class="sc10">,</span> <span class="sc11">DEC</span><span class="sc10">);</span> <span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">();</span> <span class="sc10">}</span> <span class="sc16">void</span> <span class="sc11">loop</span><span class="sc10">()</span> <span class="sc10">{}</span> <span class="sc1">/* * this function get current time and set date integers declared above * IT IS NOT A PART OF LIBRARY but used to display current shamsi date * come from : </span><span class="sc65">https://gist.github.com/djohnson001/6df673a8d7f8ac04246a</span><span class="sc1"> */</span> <span class="sc11">String</span> <span class="sc11">SetCurrentDate</span><span class="sc10">()</span> <span class="sc10">{</span> <span class="sc16">char</span> <span class="sc16">const</span> <span class="sc10">*</span><span class="sc11">date</span> <span class="sc10">=</span> <span class="sc11">__DATE__</span><span class="sc10">;</span> <span class="sc16">char</span> <span class="sc11">s_month</span><span class="sc10">[</span><span class="sc4">5</span><span class="sc10">];</span> <span class="sc16">int</span> <span class="sc11">_month</span><span class="sc10">,</span> <span class="sc11">_day</span><span class="sc10">,</span> <span class="sc11">_year</span><span class="sc10">;</span> <span class="sc16">static</span> <span class="sc16">const</span> <span class="sc16">char</span> <span class="sc11">month_names</span><span class="sc10">[]</span> <span class="sc10">=</span> <span class="sc6">"JanFebMarAprMayJunJulAugSepOctNovDec"</span><span class="sc10">;</span> <span class="sc11">sscanf</span><span class="sc10">(</span><span class="sc11">date</span><span class="sc10">,</span> <span class="sc6">"%s %d %d"</span><span class="sc10">,</span> <span class="sc11">s_month</span><span class="sc10">,</span> <span class="sc10">&amp;</span><span class="sc11">current_day</span><span class="sc10">,</span> <span class="sc10">&amp;</span><span class="sc11">current_year</span><span class="sc10">);</span> <span class="sc11">current_month</span> <span class="sc10">=</span> <span class="sc10">((</span><span class="sc11">strstr</span><span class="sc10">(</span><span class="sc11">month_names</span><span class="sc10">,</span> <span class="sc11">s_month</span><span class="sc10">)-</span><span class="sc11">month_names</span><span class="sc10">)/</span><span class="sc4">3</span><span class="sc10">)</span> <span class="sc10">+</span> <span class="sc4">1</span><span class="sc10">;</span> <span class="sc10">}</span></div>
</pre>
